var _helpers = require("@swc/helpers");
"use strict";
var regeneratorRuntime = require("regenerator-runtime");
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.WelcomeView = void 0;
var _react = _interopRequireWildcard(require("react"));
require("@spectrum-css/typography");
var _reactSpectrum = require("@adobe/react-spectrum");
var _reactRouterDom = require("react-router-dom");
var _utils = _interopRequireDefault(require("../utils"));
var _config = _interopRequireDefault(require("../config"));
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop1) {
        return nodeInterop1 ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interopRequireWildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) return obj;
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") return {
        default: obj
    };
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) return cache.get(obj);
    var newObj = {
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj)if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
        if (desc && (desc.get || desc.set)) Object.defineProperty(newObj, key, desc);
        else newObj[key] = obj[key];
    }
    newObj.default = obj;
    if (cache) cache.set(obj, newObj);
    return newObj;
}
/*
 * <license header>
 */ var WelcomeView = (function(param) {
    var ims = param.ims;
    var ref = _helpers.slicedToArray(_react.useState(true), 2), isLoading = ref[0], setIsLoading = ref[1];
    var ref1 = _helpers.slicedToArray(_react.useState(''), 2), message = ref1[0], setMessage = ref1[1];
    var history = _reactRouterDom.useHistory();
    _react.useEffect(function() {
        _helpers.asyncToGenerator(regeneratorRuntime.mark(function _callee() {
            var res;
            return regeneratorRuntime.wrap(function _callee$(_ctx) {
                while(1)switch(_ctx.prev = _ctx.next){
                    case 0:
                        _ctx.next = 2;
                        return _utils.default(ims, _config.default['welcome-state'], {
                        }, {
                            userId: ims.profile.userId,
                            userName: ims.profile.name
                        });
                    case 2:
                        res = _ctx.sent;
                        if (res.error) alert(res.error.message);
                        else setMessage(res.message);
                        console.log(res);
                        setIsLoading(false);
                    case 6:
                    case "end":
                        return _ctx.stop();
                }
            }, _callee);
        }))();
    }, []);
    return(/*#__PURE__*/ React.createElement(_reactSpectrum.View, {
        elementType: "main",
        height: "100vh",
        __source: {
            fileName: "C:\\temp\\training\\cicd_training\\adu_bcab_courseware\\web-src\\src\\components\\WelcomeView.js",
            lineNumber: 52
        },
        __self: this
    }, isLoading ? /*#__PURE__*/ React.createElement(_reactSpectrum.Flex, {
        alignItems: "center",
        justifyContent: "center",
        height: "100vh",
        __source: {
            fileName: "C:\\temp\\training\\cicd_training\\adu_bcab_courseware\\web-src\\src\\components\\WelcomeView.js",
            lineNumber: 53
        },
        __self: this
    }, /*#__PURE__*/ React.createElement(_reactSpectrum.ProgressCircle, {
        size: "L",
        "aria-label": "Loading\u2026",
        isIndeterminate: true,
        __source: {
            fileName: "C:\\temp\\training\\cicd_training\\adu_bcab_courseware\\web-src\\src\\components\\WelcomeView.js",
            lineNumber: 54
        },
        __self: this
    })) : /*#__PURE__*/ React.createElement(_reactSpectrum.Flex, {
        justifyContent: "center",
        alignItems: "center",
        direction: "column",
        height: "100%",
        gap: "size-400",
        __source: {
            fileName: "C:\\temp\\training\\cicd_training\\adu_bcab_courseware\\web-src\\src\\components\\WelcomeView.js",
            lineNumber: 55
        },
        __self: this
    }, /*#__PURE__*/ React.createElement("h2", {
        className: "spectrum-Heading spectrum-Heading--sizeL spectrum-Heading--serif",
        __source: {
            fileName: "C:\\temp\\training\\cicd_training\\adu_bcab_courseware\\web-src\\src\\components\\WelcomeView.js",
            lineNumber: 56
        },
        __self: this
    }, message), /*#__PURE__*/ React.createElement("p", {
        className: "spectrum-Body spectrum-Body--sizeL",
        __source: {
            fileName: "C:\\temp\\training\\cicd_training\\adu_bcab_courseware\\web-src\\src\\components\\WelcomeView.js",
            lineNumber: 57
        },
        __self: this
    }, "Get started by listing all briefs or create a new brief."), /*#__PURE__*/ React.createElement(_reactSpectrum.ButtonGroup, {
        __source: {
            fileName: "C:\\temp\\training\\cicd_training\\adu_bcab_courseware\\web-src\\src\\components\\WelcomeView.js",
            lineNumber: 58
        },
        __self: this
    }, /*#__PURE__*/ React.createElement(_reactSpectrum.Button, {
        variant: "cta",
        onPress: function() {
            history.push('/create');
        },
        __source: {
            fileName: "C:\\temp\\training\\cicd_training\\adu_bcab_courseware\\web-src\\src\\components\\WelcomeView.js",
            lineNumber: 59
        },
        __self: this
    }, "New brief"), /*#__PURE__*/ React.createElement(_reactSpectrum.Button, {
        variant: "primary",
        onPress: function() {
            history.push('/list');
        },
        __source: {
            fileName: "C:\\temp\\training\\cicd_training\\adu_bcab_courseware\\web-src\\src\\components\\WelcomeView.js",
            lineNumber: 64
        },
        __self: this
    }, "List briefs")))));
}).bind(undefined);
exports.WelcomeView = WelcomeView;
